# 消息简介

## JMS

![图 0](../images/bc268c8ed65a49648085ed1b01e6895b33774e5fef77e2d5e4eec05da358264a.png)  


## ActiveMQ

### 下载安装

```
https://activemq.apache.org/components/classic/download/

```

解压缩文件。进入win64目录，双击运行activemq.bat文件，运行服务

![图 2](../images/9c0a0c9112b17fa0a109757e7c06d2fa616a68f637aa40bfa4177ed191ae33a1.png)  

将下面的网址输入到浏览器，用户名和密码都是admin
![图 3](../images/b4d548c1c2892fcfa6a4ac8c8c0060bef249067bd34e7409cf225619320ac0b2.png)  

![图 4](../images/797a89df43bc49ae15cf805a88bccb482c5ba20e253f32b27bef39bded8e12aa.png)  



## SpringBoot整合ActiveMQ

* 导入坐标
```java

        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-activemq</artifactId>
        </dependency>
```
* 添加配置

```java


server:
  port: 8080


spring:
  activemq:
    broker-url: tcp://localhost:61616

  jms:
    template:
      default-destination: itheima
```

* 实现业务类


```java
package com.ustc.service.activemq;

import com.ustc.service.MessageService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jms.core.JmsMessagingTemplate;
import org.springframework.stereotype.Service;

@Service
public class MessageServiceActivemqImpl implements MessageService {
    @Autowired
    private JmsMessagingTemplate messagingTemplate;

    @Override
    public void sendMessage(String id) {
        System.out.println("待发送短信的订单已经纳入处理对队列id" + id);
        messagingTemplate.convertAndSend(id);
    }

    @Override
    public String doMessge() {
        String id = messagingTemplate.receiveAndConvert(String.class);
        System.out.println("已经完成短信发送服务:id" + id);
        return id;
    }
}


```






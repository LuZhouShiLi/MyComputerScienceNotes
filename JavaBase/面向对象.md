# 面向对象


## 一、面向对象和面相过程

![图 1](../images/cd968cc7111030fd3ea023a54e00ca076364558ed354fbb6840ac9e682da965e.png)  

对象：客观存在的任何事物

类：现实生活中一类具有相同属性和行为的事物的抽象

![图 2](../images/b27dd38137d4da8eb83c414fe9685e546a122d5520a45c347fbc4e745762c613.png)  

## 二、类的定义

```java
public class Phone{
    // 成员变量
    String brand;
    int price;

    // 成员方法
    public void call(){
        System.out.println("打电话");
    }

    public void sendMessage(){
        System.out.println("发短信");
    }
}

```

## 三、对象的使用

* 创建对象
  类名 对象名 = new 类名()

* 使用成员变量
  对象名.变量名


* 使用成员方法
  对象名.方法名()

```java
package com.ustc.base.DataFormat;

public class test18 {
    public static void main(String[] args) {
        // 创建对象
        Phone p = new Phone();

        // 使用成员变量
        System.out.println(p.brand);
        System.out.println(p.price);

        // 成员变量赋值
        p.brand = "苹果";
        p.price = 111111;
        System.out.println(p.brand);
        System.out.println(p.price);

        // 调用成员方法
        p.call();
        p.sendMessage();
    }

}
```


## 四、手机类的创建和使用

```java

public class Phone{
    // 成员变量
    String brand;
    int price;

    // 成员方法
    public void call(String name){
        System.out.println("打电话"+ name);
    }

    public void sendMessage(){
        System.out.println("发短信");
    }
}


```

```java
package com.ustc.base.DataFormat;

public class test19 {
    public static void main(String[] args) {
        Phone p = new Phone();

        p.brand = "xxxxx";
        p.price = 1111;

        p.call("xhsajfrdehsiu");
        p.sendMessage();
    }
}


```


## 五、单个对象的内存图

![图 3](../images/a06bf676fe0e5dfc9cddb03b4f99dabe7985933f63d6e6ea139594d10fbd14e0.png)  

![图 4](../images/40581cffa42a8cc13a732895cd05504aaf4d9051ce5fd2b5408ddf032c76789b.png)  


## 六、两个引用指向同一内存图

![图 5](../images/d76d13ddbf7b3d43a467618b99b3fb16395c985540356acf79b1a67f7f742a24.png)  

```java
package com.ustc.base.DataFormat;

public class test19 {
    public static void main(String[] args) {
        Phone p = new Phone();

        p.brand = "xxxxx";
        p.price = 1111;

        Phone p1 = p; // 创建引用数据类型  p1和p指向同一块内存空间

        p1.price = 9999;
        System.out.println(p.price);
        System.out.println(p1.price);
    }
}


```

两个引用指向同一块内存空间，改变的是同一块内容

将引用置为null ,引用将找不到内存空间,不影响其他引用

```java
package com.ustc.base.DataFormat;

public class test19 {
    public static void main(String[] args) {
        Phone p = new Phone();

        p.brand = "xxxxx";
        p.price = 1111;

        Phone p1 = p; // 创建引用数据类型  p1和p指向同一块内存空间

        p1.price = 9999;
        System.out.println(p.price);
        System.out.println(p1.price);

        p = null;// 地址置为null 找不到内存
        System.out.println(p.price);// 出现异常
    }
}


```

垃圾回收机制：

![图 6](../images/c6e98173439fa042ebd10290b289f08e1878c4691da390b8a2be1e615a620851.png)  

## 七、成员变量和局部变量

成员变量：类中方法外变量 随着对象消失而消失
局部变量：方法中变量  随着方法消失而消失

![图 7](../images/78873e1956eebba279a432964552cc89b6dc36d37f82405f409580baffcdd908.png)  

## 八、priavte

&emsp;由于类中成员变量很容易被修改，所以需要private关键字进行保护

private关键字：

* 是一个权限修饰符
* 可以修饰成员 成员变量和成员方法
* 作用是保护成员不被别的类使用 被priavte修饰的成员只在本类中进行访问

![图 8](../images/1574ed187d8a5c27a35c601af169221bf7566c0209f436792007bb6172d0d03f.png)  


```java
package com.ustc.base.DataFormat;

public class Student {
    private String name;

    private int age;// 私有成员变量

    // 提供set和get方法接口
    public void setAge(int a)
    {
        age = a;
    }

    // get方法获取数据
    public int getAge(){
        return age;
    }

    // set方法  设置成员变量
    public void setName(String a)
    {
        name = a;
    }

    public String getName()
    {
        return name;// 获取name
    }

    // 成员方法
    public void show(){
        System.out.println(name + " " + getAge());
    }
}

```

```java
package com.ustc.base.DataFormat;

public class StudentDemo {
    public static void main(String[] args) {
        Student s = new Student();
//        System.out.println(s.name);// 报错 私有成员不可以直接获取

        // 打印成员变量
        System.out.println(s.getName());// 输出null
        System.out.println(s.getAge());// 输出0

        //设置成员变量
        s.setAge(99);
        s.setName("hdjashdj");
        System.out.println(s.getName());
        System.out.println(s.getAge());
    }
}


```

![图 9](../images/8cc9629fd475849f2b7d3cfc77711157313b603ec4d14b14278101d90eeaa952.png)  

**一个成员变量使用private关键字修饰 提供对应的get和set方法**

## 九、this关键字

![图 10](../images/baea1f934805d2d460ecbdeea55fdd54b52e396962956535364f5554dd0c54f9.png)  

```java
package com.ustc.base.DataFormat;

public class Student {
    private String name;

    private int age;// 私有成员变量

    // 提供set和get方法接口
    public void setAge(int age)
    {
//        age = a;
        this.age = age;
    }

    // get方法获取数据
    public int getAge(){
        return age;
    }

    // set方法  设置成员变量
    public void setName(String name)
    {
//        name = a;
        this.name = name;
    }

    public String getName()
    {
        return name;// 获取name
    }

    // 成员方法
    public void show(){
        System.out.println(name + " " + getAge());
    }
}


```

使用set函数进行赋值，this指代的是成员变量，不带this修饰的变量指的是形参

![图 11](../images/d0c3af75ee1b55d1830a82775123c7e0eaeecc2f95c031c420cd18247f071ad6.png)  


## 十、封装

![图 12](../images/d30d1f6493d650e9c6d74959fcb169fef1f7a20cff4444f5f0e8b37e0996b257.png)  

## 十一、构造方法

生成对象一开始就调用有参数构造方法，如果没有指明构造方法，系统会自动调用默认构造方法


```java
package com.ustc.base.DataFormat;

public class Student {
    private String name;

    private int age;// 私有成员变量
    
    // 有参数构造方法
    public Student(String name,int age)
    {
        this.name = name;
        this.age = age;
        System.out.println("Student的有参数构造方法");
    }

    // 提供set和get方法接口
    public void setAge(int age)
    {
//        age = a;
        this.age = age;
    }

    // get方法获取数据
    public int getAge(){
        return age;
    }

    // set方法  设置成员变量
    public void setName(String name)
    {
//        name = a;
        this.name = name;
    }

    public String getName()
    {
        return name;// 获取name
    }

    // 成员方法
    public void show(){
        System.out.println(name + " " + getAge());
    }
}


```


构造方法的注意事项：

* 如果没有定义构造方法，系统会给出一个默认的无参构造方法
* 如果定义了构造方法，系统将不再提供默认的构造方法
* 如果自定义带参构造方法，还要使用无参构造方法，就必须再写一个无参数构造方法
* 推荐每一个类都手写无参构造方法


## 十二、标准类

* 所有成员变量私有化
* 私有成员变量设置get和set方法
* 

```java
package com.ustc.base.DataFormat;

public class Student {
    private String name;

    private int age;// 私有成员变量

    // 有参数构造方法
    public Student(String name,int age)
    {
        this.name = name;
        this.age = age;
        System.out.println("Student的有参数构造方法");
    }

    // 提供set和get方法接口
    public void setAge(int age)
    {
//        age = a;
        this.age = age;
    }

    // get方法获取数据
    public int getAge(){
        return age;
    }

    // set方法  设置成员变量
    public void setName(String name)
    {
//        name = a;
        this.name = name;
    }

    public String getName()
    {
        return name;// 获取name
    }

    // 成员方法
    public void show(){
        System.out.println(name + " " + getAge());
    }
}


```


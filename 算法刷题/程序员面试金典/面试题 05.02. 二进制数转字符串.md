# 面试题 05.02. 二进制数转字符串

## 题目

二进制数转字符串。给定一个介于0和1之间的实数（如0.72），类型为double，打印它的二进制表达式。如果该数字无法精确地用32位以内的二进制表示，则打印“ERROR”

## 思路

* 十进制小数转换为二进制小数，将小数部分每次乘以2，然后取整数1，之后判断小数部分是否为0
* 如果不为0，继续上述操作
* 设置一个字符串ans = "0." 每次拼接1 如果最后乘以2之后小于1 ans拼接0


## 代码

```cpp
class Solution {
public:
    string printBin(double num) {
        // 十进制的小数转换为二进制小数，主方法：小数部分乘以2 然后取整数部分 直到小数点之后为0
        string ans = "0.";

        while(num != 0){
            num *= 2;// 乘以2 之后取整

            if(num >= 1)
            {
               ans += '1';
               num -= 1; 
            }
            else{
                // 小于1 说明整数部分为0 ans += 0即可
                ans += "0";
            }

            if(ans.size() > 32){
                return "ERROR";// 如果小数没法用32位小数字符串表示
            }
        }

        return ans;
    }
};

```

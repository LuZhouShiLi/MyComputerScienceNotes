# 自定义控件

## 简单使用


* 首先创建一个工程
![图 7](../../images/6c388e88a529aed9e74581f691120470baaa39022f4a1b6924bb1c414d981864.png)  

* 在现有的工程上添加文件，选择Qt设计师界面类

![图 1](../../images/158d0a02e3678d5345495fa9129e63e3abff7ddef9de40eedea9ab2c15afb721.png)  

* 选择Widget

![图 2](../../images/2e181f34808ccdfa98e114b772a5ae5db85a35183f785f463a0e75e981a6d697.png)  

* 添加两个控件之后，选择水平布局

![图 3](../../images/72b48350522a4eb2f7d3f1fcb015bcdbe466ca2fec4272e6a3d8eac0e83d228f.png)  

* 将刚刚自定义的控件smallWidget放置在原始的控件中

* 首先在原始工程的ui界面 随便放置一个widget

![图 4](../../images/7b0cb0b217162f7d8c8cd6b0dac678b07b3ca8769b9e8e808855e4118de307c2.png)  

* 选择，右键提升为 添加，然后提升

![图 5](../../images/0c7a8238cd7ebd52bde131296c5f0a775af8d3ad4405b6e21fca2f08238f3426.png)  

* 运行，发现

![图 6](../../images/3b73c62e6c03040bb1d409f8e426b4c1f18307830bd75acd9ad589fa70cb8edd.png)  


* 移动slider QSpinBox数值发生变化

![图 8](../../images/c6a2babff99feb122bb72429166c42b5535513c8797f682014ebffe5a1afca73.png)  


自定义控件 连接信号与槽
```cpp
#include "smallwidget.h"
#include "ui_smallwidget.h"

SmallWidget::SmallWidget(QWidget *parent) :
    QWidget(parent),
    ui(new Ui::SmallWidget)
{
    ui->setupUi(this);
    // QSpinBox移动  QSlider跟着移动

    void(QSpinBox:: *spinSignal)(int) = &QSpinBox::valueChanged;// 带参数的信号

    // QSpinBox是带参数的移动信号
    connect(ui->spinBox,spinSignal,ui->horizontalSlider,&QSlider::setValue);

    //QSlider滑动 QSpinBox数字跟着改变
    connect(ui->horizontalSlider,&QSlider::valueChanged,ui->spinBox,&QSpinBox::setValue);
}

// 设置数字
void SmallWidget::setNum(int num){
    ui->spinBox->setValue(num);
}
// 获取数字
int SmallWidget::getNum(){
    return ui->spinBox->value();
}

SmallWidget::~SmallWidget()
{
    delete ui;
}


```




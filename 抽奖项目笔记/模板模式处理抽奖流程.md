# 第06节：模板模式处理抽奖流程


## 概述

* 提取抽象类
* 编排模板流程
* 定义抽象方法
* 执行抽奖策略
* 扣减中奖库存
* 包装返回结果等


**重点：使用模板方法设计模式优化类DrawExecImpl抽奖过程方法实现，主要以抽象类AbstractDrawBase编排定义流程，定义抽象方法由类DrawExecImpl做具体实现的方式进行处理**

* **模板模式的核心设计思路是通过在，抽象类中定义抽象方法的执行顺序，并将抽象方法设定为只有子类实现**，但不设计独立访问的方法。简单说也就是把你安排的明明白白的。


## 模板模式使用


* 根据入参策略ID获取抽奖策略配置
* 校验和处理抽奖策略的数据初始化到内存中
* 获取哪些被排除掉的抽奖列表，这些奖品可能是已经奖品库位空，或者因为风控策略不能给这个用户薅羊毛的奖品
* 执行抽奖算法
* 包装抽奖结果




